# Sharding-Sphere 分库分表

## 技术选型
mysql

mybatis-plus

druid

sharding-sphere

## 分库分表
当单表的数据量达到1000W或100G以后，由于查询维度较多，即使添加从库、优化索引，做很多操作时性能仍下降严重。

**分库分表就是为了解决由于数据量过大而导致数据库性能降低的问题，将原来独立的数据库拆分成若干数据库组成 ，将数据大表拆分成若干数据表组成，使得单一数据库、单一数据表的数据量变小，从而达到提升数据库性能的目的。**

### 垂直分表

**垂直分表实际上是列分割**

**将一个表按照字段分成多表，每个表存储其中一部分字段。**

拆分后，尽量从业务角度避免联查，否则性能方面将得不偿失。

### 垂直分库

**它的核心理念是专库专用。业务划分**

需要解决跨库带来的所有复杂问题。

### 水平分库

**水平分库是把同一个表的数据按一定规则拆到不同的数据库中，每个库可以放在不同的服务器上。**

例如：将店铺ID为单数的和店铺ID为双数的商品信息分别放在两个库中。

但由于同一个表被分配在不同的数据库，需要额外进行数据操作的路由工作，因此大大提升了系统复杂度。

### 水平分表

**水平分表是在同一个数据库内，把同一个表的数据按一定规则拆到多个表中。**

仅仅作为水平分库的一个补充优化。

一般来说，在系统设计阶段就应该根据业务耦合松紧来确定垂直分库，垂直分表方案，在数据量及访问压力不是特别大的情况，首先考虑缓存、读写分离、索引技术等方案。若数据量极大，且持续增长，再考虑水平分库水平分表方案。
